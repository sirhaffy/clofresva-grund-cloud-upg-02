{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Storage": {
    "AccountName": "{{ storage_account | default('') }}",
    "BlobEndpoint": "{{ blob_endpoint | default('') }}",
    "ContainerName": "appdata"
  },
  "MongoDB": {
    "ConnectionString": "{{ mongodb_connection_string | default('') | replace('\\', '\\\\') | replace('"', '\\"') }}",
    "DatabaseName": "cloudsoft",
    "CollectionName": "subscribers"
  },
  "SUBSCRIBER_REPOSITORY": "{% if mongodb_connection_string | default('') != '' %}cosmos{% else %}inmemory{% endif %}",
  "FEATUREFLAGS": {
    "USEAZURESTORAGE": {% if storage_account | default('') != '' %}true{% else %}false{% endif %}
  }
}