{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Storage": {
    "AccountName": "{{ storage_account | default('') }}",
    "BlobEndpoint": "{{ blob_endpoint | default('') }}",
    "ContainerName": "appdata"
  },
  "MongoDB": {
    "ConnectionString": {{ mongodb_connection_string | to_json }},
    "DatabaseName": "cloudsoft",
    "CollectionName": "subscribers"
  },
  "SUBSCRIBER_REPOSITORY": "{% if mongodb_connection_string is defined and mongodb_connection_string != '' and mongodb_connection_string | length > 20 %}cosmos{% else %}inmemory{% endif %}",
  "FEATUREFLAGS": {
    "USEAZURESTORAGE": {% if storage_account is defined and storage_account != '' %}true{% else %}false{% endif %}
  }
}